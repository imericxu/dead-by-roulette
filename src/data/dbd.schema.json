{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "dead-by-roulette://schemas/dbd",
  "title": "Dead by Daylight",
  "description": "Dead by Daylight game data",
  "definitions": {
    "img": {
      "type": "object",
      "properties": {
        "src": {
          "type": "string"
        },
        "width": {
          "type": "number"
        },
        "height": {
          "type": "number"
        }
      },
      "required": [
        "src",
        "width",
        "height"
      ]
    },
    "character": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "smallImg": {
          "$ref": "#/definitions/img"
        },
        "bigImg": {
          "$ref": "#/definitions/img"
        }
      },
      "required": [
        "name",
        "smallImg",
        "bigImg"
      ]
    },
    "perk": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "characterId": {
          "type": [
            "number",
            "null"
          ]
        },
        "img": {
          "$ref": "#/definitions/img"
        }
      },
      "required": [
        "name",
        "characterId",
        "img"
      ]
    },
    "rarity": {
      "type": "string",
      "enum": [
        "common",
        "uncommon",
        "rare",
        "veryRare",
        "ultraRare"
      ]
    },
    "addOn": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "img": {
          "$ref": "#/definitions/img"
        },
        "rarity": {
          "$ref": "#/definitions/rarity"
        }
      },
      "required": [
        "name",
        "img",
        "rarity"
      ]
    },
    "offering": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "rarity": {
          "$ref": "#/definitions/rarity"
        },
        "img": {
          "$ref": "#/definitions/img"
        },
        "category": {
          "type": "string",
          "enum": [
            "bloodpoints",
            "luck",
            "mapModifier",
            "mori",
            "realm",
            "shroud",
            "wards"
          ]
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "characters": {
      "type": "object",
      "properties": {
        "killers": {
          "description": "Unique killer ID to killer.",
          "type": "object",
          "patternProperties": {
            "^[0-9]+$": {
              "allOf": [
                {
                  "$ref": "#/definitions/character"
                },
                {
                  "properties": {
                    "power": {
                      "type": "string"
                    },
                    "powerImg": {
                      "$ref": "#/definitions/img"
                    },
                    "addOns": {
                      "description": "Unique killer add-on ID to killer add-on.",
                      "type": "object",
                      "patternProperties": {
                        "^[0-9]+$": {
                          "$ref": "#/definitions/addOn"
                        }
                      }
                    }
                  },
                  "required": [
                    "power",
                    "powerImg",
                    "addOns"
                  ]
                }
              ]
            }
          }
        },
        "survivors": {
          "description": "Unique survivor ID to survivor.",
          "type": "object",
          "patternProperties": {
            "^[0-9]+$": {
              "$ref": "#/definitions/character"
            }
          }
        }
      },
      "required": [
        "killers",
        "survivors"
      ]
    },
    "perks": {
      "type": "object",
      "properties": {
        "killer": {
          "description": "Unique perk ID to killer perk.",
          "type": "object",
          "patternProperties": {
            "^[0-9]+$": {
              "$ref": "#/definitions/perk"
            }
          }
        },
        "survivor": {
          "description": "Unique perk ID to survivor perk.",
          "type": "object",
          "patternProperties": {
            "^[0-9]+$": {
              "$ref": "#/definitions/perk"
            }
          }
        }
      },
      "required": [
        "killer",
        "survivor"
      ]
    },
    "itemTypes": {
      "type": "object",
      "patternProperties": {
        "^[0-9]+$": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "img": {
              "$ref": "#/definitions/img"
            },
            "items": {
              "description": "Unique item ID to item.",
              "type": "object",
              "patternProperties": {
                "^[0-9]+$": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "img": {
                      "$ref": "#/definitions/img"
                    },
                    "rarity": {
                      "$ref": "#/definitions/rarity"
                    }
                  },
                  "required": [
                    "name",
                    "img",
                    "rarity"
                  ]
                }
              }
            },
            "addOns": {
              "description": "Unique survivor add-on ID to item add-on.",
              "type": "object",
              "patternProperties": {
                "^[0-9]+$": {
                  "$ref": "#/definitions/addOn"
                }
              }
            }
          },
          "required": [
            "name",
            "img",
            "items",
            "addOns"
          ]
        }
      }
    },
    "offerings": {
      "type": "object",
      "properties": {
        "shared": {
          "description": "Unique offering ID to shared offering.",
          "type": "object",
          "patternProperties": {
            "^[0-9]+$": {
              "$ref": "#/definitions/offering"
            }
          }
        },
        "killer": {
          "description": "Unique offering ID to killer offering.",
          "type": "object",
          "patternProperties": {
            "^[0-9]+$": {
              "$ref": "#/definitions/offering"
            }
          }
        },
        "survivor": {
          "description": "Unique offering ID to survivor offering.",
          "type": "object",
          "patternProperties": {
            "^[0-9]+$": {
              "$ref": "#/definitions/offering"
            }
          }
        }
      },
      "required": [
        "shared",
        "killer",
        "survivor"
      ]
    }
  }
}
